function modFixed(a){$(window).scroll(function(){var b=$(window).scrollTop();b>1?$(a).addClass("fixed"):$(a).removeClass("fixed")})}function modFloat(a){var b=$(a).height(),c=$(a).offset().top;$(window).scroll(function(){var d=$(window).scrollTop()+b;d>c?$(a).removeClass("fixed"):$(a).addClass("fixed")})}function fSetAlertTipPosition(a){var b=$(window).scrollTop(),c=$(window).height(),d=$(a).height();if(d>c)$(a).css("top",b);else{var e=(c-d)/2+b;$(a).css("top",e)}$(".closeBtn").click(function(){$(".tipMask, .tip").hide()})}function getRandomString(a){a=a||32;var b="0123456789",c=b.length,d="";for(i=0;a>i;i++)d+=b.charAt(Math.floor(Math.random()*c));return d}function sechSgst(){fInputFocusBlur(),$("#keyword").focus(function(){$(".cateBtn").hide(),$(this).parent().addClass("searchFormFocus"),$(this).parent().siblings().hasClass("legRegOk")&&$("#suggest").addClass("suggestAfterLegReg")}),$("#keyword, #suggest").click(function(a){a.stopPropagation()}),$("body").click(function(){$("#suggest").hide(),$("#keyword").parent().removeClass("searchFormFocus"),$(".cateBtn").show()})}function fInputFocusBlur(){for(var a=$("input[tip]"),b=0;b<a.length;b++){var c=a.eq(b);c.val(c.attr("tip")).css("color","#999")}a.click(function(){var a=$(this),b=a.attr("tip");a.parent().addClass("cur"),a.val()==b&&(a.val(""),a.css("color","#333"))}).blur(function(){var a=$(this),b=a.attr("tip");a.parent().removeClass("cur"),""==a.val().replace(/\s*/g,"")&&(a.val(b),a.css("color","#999"))})}function buy_car(a){$(a).live("click",function(){$(this).closest("dl").hasClass("isMall")===!0||$(this).closest("dl").hasClass("soldOut")===!0||$(this).hasClass("landingpage_nolog")||($(this).next().show(),$(this).closest("dl").siblings().find(".ins").hide())}),$(".ins .goBuy").live("click",function(){return $(this).parent().hide(),!1})}function fAddCartNum(){var a=parseInt($(".headVerTen .cart em").text(),10);if($("#buycount").length>0){var b=parseInt($(".buy_num").val(),10),c=a+b;$(".headVerTen .cart em").text(c)}else $(".headVerTen .cart em").text(a+1)}function fChkCopnIpt(a){var b=$(a).attr("value");console.log(b),""!=b?($(a).parents().next(".mobiEror").hide(),$(a).parents(".w48").next(".mobiEror").hide(),$(a).parents(".longIpt").siblings(".alignC").find(".greyBtn").removeClass("greyBtn").addClass("redBtn"),$(a).parents(".verfyCod").siblings(".alignC").find(".greyBtn").removeClass("greyBtn").addClass("redBtn")):$(a).parents(".longIpt").siblings(".alignC").find(".redBtn").removeClass("redBtn").addClass("greyBtn"),$(a).blur(function(){var a=$(this).val().replace(/(^\s*)|(\s*$)/g,"");""==a?($(this).parents().next(".mobiEror").show(),$(".longIpt").siblings(".alignC").find(".redBtn").removeClass("redBtn").addClass("greyBtn"),$(".verfyCod").next(".alignC").find(".redBtn").removeClass("redBtn").addClass("greyBtn")):($(this).parents().next(".mobiEror").hide(),$(".longIpt").siblings(".alignC").find(".greyBtn").removeClass("greyBtn").addClass("redBtn"),$(".verfyCod").next(".alignC").find(".greyBtn").removeClass("greyBtn").addClass("redBtn"))}).keyup(function(){$(this).triggerHandler("blur")}),$(a).focus(function(){$(this).parent().prev().show()}),$(".clearIpt").bind("click",function(){$(this).next().children().val(""),$(".longIpt").siblings(".payNowBtn").addClass("greyBtn").removeClass("payNowBtn"),$(".alignC .redBtn").removeClass("redBtn").addClass("greyBtn")}),$(".mobiIpt input").selectRange()}function fShowPswd(){var a=document.getElementById("togglePswd");a.addEventListener("click",fTogglePswdClick,!1)}function fTogglePswdClick(){var a=document.getElementById("mobiPswd");"password"==a.type?($("#togglePswd").removeClass("checkbox2").addClass("checkbox"),a.type="text"):($("#togglePswd").removeClass("checkbox").addClass("checkbox2"),a.type="password")}function fShowTime(a){var b=a-1;return 0==a?!1:(fGetCopnTimer(b),window.setTimeout("fShowTime("+b+")",1e3),"0"==b&&($(".timerOut").hide(),$("#twice").removeClass("greyBtn").addClass("payNowBtn").children("em").show(),$("#timer").addClass("none")),void 0)}function fGetCopnTimer(a){$("#timer").html(a)}function fTimerOrNot(a){var b=$("#timerValue").val();$("em",a).hide(),$(a).children(".timerOut").show(),fShowTime(b),$("#timer").removeClass("none"),$("#twice").removeClass("payNowBtn").addClass("greyBtn")}function leftPackgeShowHide(){$(".packge").each(function(){function a(){for(var a=2;c>a;a++)b.eq(a).hide()}var b=$(".borderBotm",this),c=b.length;a(),$(".pages_nextprev",this).click(function(){$("p",this).hasClass("cur")?(a(),$("p",this).removeClass("cur")):(b.show(),$("p",this).addClass("cur"))})})}function getInvoices(){$(".modRadio").click(function(){$("i",this).hasClass("fl")?($("i",this).attr("class","fr"),$("ins",this).text("鏄�"),$(".modRadioCon").show(),$("#invoicesNd, #defaultAddr").val("1")):($("i",this).attr("class","fl"),$("ins",this).text("鍚�"),$(".modRadioCon").hide(),$("#invoicesNd, #defaultAddr").val("0"))}),$(".invoicesCon").click(function(){$("ul",this).show(),$("ul",this).parent().siblings(".invoicesCon").find("ul").hide()}),$(".invoicesCon li").click(function(){var a=$(this).text();$(this).parents(".invoicesCon").find("p ins").text(a),$(this).parent().siblings("p").removeClass("grey"),setTimeout(function(){$(".invoicesCon ul").hide()},1)})}function selectPrice(a){var b="."+a,c=$(".cashInput input");$(".cashInput input").selectRange(),$("a",b).click(function(){var a=Number($("em",this).text());$(".cashNob").val(a),c.selectRange()})}function radio_bg(a){var b="."+a,c=b+">.radio",d="#paymentMethod";$(c).click(function(){$(this).addClass("radio2").removeClass("radio").siblings(".radio2").addClass("radio").removeClass("radio2"),$(d).val($(this).find("ins.none").text())})}function helpOpen(a){var b="."+a;$(".borderBotm",b).not(".noClick").click(function(){$(this).hasClass("cur")?($(this).removeClass("cur"),$(".subCon",this).hide()):($(this).addClass("cur").siblings(".borderBotm",b).removeClass("cur"),$(this).find(".subCon").show(),$(this).siblings(".borderBotm",b).find(".subCon").hide())}),$(".subCon").click(function(a){a.stopPropagation()})}function turnPage(){var a=document.getElementById("selPage").options[document.getElementById("selPage").selectedIndex].value;window.location.href=a}window.addEventListener("load",function(){"1"!=$("#toTopOrNot").val()&&setTimeout(function(){window.scrollTo(0,1)},100)}),$(".gotop").click(function(){window.scrollTo(0,1)});var mAttr={attrData:{mColor:!1,mSize:!1,mMtrl:!1},idNoSlt:null,init:function(){mAttr.checkDefault(),mAttr.click("#mColor"),mAttr.click("#mSize"),mAttr.click("#mMtrl"),mAttr.submit()},checkDefault:function(){$("#mColor span").hasClass("checked")&&(mAttr.attrData.mColor=$("#mColor .checked").text(),$("#choosecolor, #choosecolor2").text(mAttr.attrData.mColor)),$("#mSize span").hasClass("checked")&&(mAttr.attrData.mSize=$("#mSize .checked").text(),$("#choosesize, #choosesize2").text(mAttr.attrData.mSize)),$("#mMtrl span").hasClass("checked")&&(mAttr.attrData.mMtrl=$("#mMtrl .checked").text(),$("#choosemtrl, #choosemtrl2").text(mAttr.attrData.mMtrl))},click:function(a){var b;$("span",a).not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked"),"#mColor"==a&&(mAttr.attrData.mColor=$(this).text(),$("#choosecolor, #choosecolor2").text(mAttr.attrData.mColor),b=$("#mColor span").index($(this)),mAttr.changeThumb(b)),"#mSize"==a&&(mAttr.attrData.mSize=$(this).text(),$("#choosesize, #choosesize2").text(mAttr.attrData.mSize)),"#mMtrl"==a&&(mAttr.attrData.mMtrl=$(this).text(),$("#choosemtrl, #choosemtrl2").text(mAttr.attrData.mMtrl))})},changeThumb:function(a){$(".mProThumb img").eq(a).show().siblings("img").hide()},goBack:function(){$(".backToEdit").click(function(){var a=$(this).closest(".tip").attr("id");"mtrlTip"==a?($("#mtrlTip").hide(),$("#sizeTip").show(),mAttr.tipClick("#sizeTip")):"sizeTip"==a&&($("#sizeTip").hide(),$("#colorTip").show(),mAttr.tipClick("#colorTip"))})},tipShow:function(a){$(a).show(),$(a).parent().siblings(".tipMask").show(),fSetAlertTipPosition(".alertTip"),mAttr.tipClick(a),mAttr.tipClose(),mAttr.goBack()},tipClick:function(a){$("li",a).not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var b=$(this).closest(".tip").find("li").index($(this));"#colorTip"==a&&(mAttr.attrData.mColor=$(this).text(),$("#choosecolor, #choosecolor2").text(mAttr.attrData.mColor),$("#mColor span").eq(b).addClass("checked").siblings().removeClass("checked"),$(a).hide()),"#sizeTip"==a&&(mAttr.attrData.mSize=$(this).text(),$("#choosesize, #choosesize2").text(mAttr.attrData.mSize),$("#mSize span").eq(b).addClass("checked").siblings().removeClass("checked"),$(a).hide()),"#mtrlTip"==a&&(mAttr.attrData.mMtrl=$(this).text(),$("#choosemtrl, #choosemtrl2").text(mAttr.attrData.mMtrl),$("#mMtrl span").eq(b).addClass("checked").siblings().removeClass("checked"),$(a).hide()),$(a).parent().siblings(".tipMask").hide(),mAttr.tipStep()})},tipStep:function(){for(var a in mAttr.attrData)if(!mAttr.attrData[a]){idNoSlt=a.toLowerCase().replace(/^m{0,1}/gi,"")+"Tip",mAttr.tipShow("#"+idNoSlt);break}},tipClose:function(){$(".tip h4 b, .tip .closeBtn").click(function(){$(".tipMask, .tip").hide()})},submit:function(){$("#mAttrSbmtBtn").click(function(){mAttr.tipStep()})}};$.fn.selectRange=function(){var a=this[0],b=a.value.length;if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},$(function(){sechSgst(),$("#searchBtn").click(function(){return $(".searchBar").show(),!1}),$("#proChkedNum").parent().click(function(){return $("#proChecked .in").show(),!1}),$(".checkedAllBtn").click(function(){for(var a=$(this).closest(".byCar").find("dl").not(".out"),b=a.find(".checkedBtn").siblings(".numIpt"),c=b.length,d=(a.find(".checked").siblings(".numIpt"),0),e=0;c>e;e++)d+=Number(b[e].value);0==$(this).hasClass("checked")?($(this).addClass("checked"),a.find(".checkedBtn").addClass("checked"),$(".cur .proCheckedNum").text(d),$(this).siblings(".proCheckedNum").text(d)):($(this).siblings(".proCheckedNum").text("0"),$(".cur .proCheckedNum").text("0"),$(this).removeClass("checked"),$(this).closest(".byCar").find("dl").not(".out").find(".checkedBtn").not(".promotionBtn").removeClass("checked")),saveCheckedId()}),$(".checkedBtn").not(".checkedAllBtn").click(function(){var a=Number($(this).closest(".byCar").find(".proCheckedNum").text()),b=Number($(this).closest(".byCar").find("dl").not(".out").find(".checkedBtn").length),c=Number($(this).closest(".byCar").find("dl").not(".out").find(".checked").length),d=$(this).closest(".byCar").find("dl").not(".out").find(".checkedBtn").length,e=$(this),f=e.siblings(".numIpt");numIptValue=Number(f.val()),allCheckedNum=Number($(".cur .proCheckedNum").text()),0==$(this).hasClass("checked")?($(this).addClass("checked"),numIptValue>1?($(".cur .proCheckedNum").text(allCheckedNum+numIptValue),$(this).closest(".byCar").find(".proCheckedNum").text(a+numIptValue)):($(".cur .proCheckedNum").text(allCheckedNum+1),$(this).closest(".byCar").find(".proCheckedNum").text(a+1)),b==c+1&&$(this).closest(".byCar").find(".checkedAllBtn").addClass("checked")):($(this).removeClass("checked"),numIptValue>1?($(".cur .proCheckedNum").text(allCheckedNum-numIptValue),$(this).closest(".byCar").find(".proCheckedNum").text(a-numIptValue),(a==numIptValue||a+numIptValue!=d)&&$(this).closest(".byCar").find(".checkedAllBtn").removeClass("checked")):($(".cur .proCheckedNum").text(allCheckedNum-1),$(this).closest(".byCar").find(".proCheckedNum").text(a-1),(1==a||a+1!=d)&&$(this).closest(".byCar").find(".checkedAllBtn").removeClass("checked"))),saveCheckedId()}),$(".giftListRadio").click(function(){$(this).closest(".byCar").find(".proCheckedNum").text(1)}),$(".fire, .log, .cart, .searchBtn").wrapAll('<div class="topInR fr"></div>')});